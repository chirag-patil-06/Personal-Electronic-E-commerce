{% extends "base.html" %}
{% load static %}
{% block main %}

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4 shadow" style="width: 300px;">
        <h4 class="text-center" style="color: rgb(11, 11, 204); border-color: black;">Make a Payment</h4><br><br>
        <h6 class="text-center" style="color: rgb(155, 76, 7); border-color: black; font-family: Georgia, 'Times New Roman', Times, serif;" >"No worries, just clicks - secure payments do the tricks!"</h6><br>
        <div class="container d-flex justify-content-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-down-circle" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"/>
            </svg>
        </div>
        <button id="rzp-button1" class="btn btn-outline-success w-100 mt-3"  >Pay Now</button>
    </div>
</div>
    
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
var options = {
    "key": "rzp_test_pkKhenE3rkKZxE", // Enter the Key ID generated from the Dashboard
    "amount": "{{payment.amount}}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
    "currency": "INR",
    "name": "FAUGET.Inc",
    "description": "Test Transaction",
    "image": "https://example.com/your_logo",
    "order_id": "{{payment.id}}", //This is a sample Order ID. Pass the id obtained in the response of Step 1
    "handler": function (response){
window.location.href="http://127.0.0.1:8000/mailsend/"
    },
    "prefill": {
        "name": "Chirag Patil",
        "email": "patilchirag424@gmail.com",
        "contact": "8530378150"
    },
    "notes": {
        "address": "Razorpay Corporate Office"
    },
    "theme": {
        "color": "#3399cc"
    }
};
var rzp1 = new Razorpay(options);
rzp1.on('payment.failed', function (response){
        alert(response.error.code);
        alert(response.error.description);
        alert(response.error.source);
        alert(response.error.step);
        alert(response.error.reason);
        alert(response.error.metadata.order_id);
        alert(response.error.metadata.payment_id);
});
document.getElementById('rzp-button1').onclick = function(e){
    rzp1.open();
    e.preventDefault();
}
</script>

</div>




{% endblock main  %}    